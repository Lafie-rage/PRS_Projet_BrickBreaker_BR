\hypertarget{client_8c}{}\section{/home/lafie-\/rage/\+Cours/\+L\+A1/\+P\+R\+S/\+G\+I\+T\+\_\+\+P\+R\+O\+J\+E\+T\+S/\+P\+R\+S\+\_\+\+Projet\+\_\+\+Brick\+Breaker\+\_\+\+B\+R/client.c File Reference}
\label{client_8c}\index{/home/lafie-\/rage/\+Cours/\+L\+A1/\+P\+R\+S/\+G\+I\+T\+\_\+\+P\+R\+O\+J\+E\+T\+S/\+P\+R\+S\+\_\+\+Projet\+\_\+\+Brick\+Breaker\+\_\+\+B\+R/client.\+c@{/home/lafie-\/rage/\+Cours/\+L\+A1/\+P\+R\+S/\+G\+I\+T\+\_\+\+P\+R\+O\+J\+E\+T\+S/\+P\+R\+S\+\_\+\+Projet\+\_\+\+Brick\+Breaker\+\_\+\+B\+R/client.\+c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include \char`\"{}kassbriik.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}game\+\_\+ui.\+h\char`\"{}}\newline
Include dependency graph for client.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{client_8c_aef4ea26c670e5d4a9f6a60c844bdd4f6}{init\+Server\+Connection} (int $\ast$msg\+Id, int $\ast$server\+Pid, char $\ast$username)
\item 
void \hyperlink{client_8c_a325494eb677c39bc868b6aa8e2ac3335}{connect\+To\+Server} (int msg\+Id, char $\ast$username)
\item 
void \hyperlink{client_8c_a6dc6d4c6635b0f45c5fb1ab00af29168}{ask\+Server\+To\+Launch\+The\+Game} (int msg\+Id)
\begin{DoxyCompactList}\small\item\em Wait for the server to launch the game, then start it. \end{DoxyCompactList}\item 
void \hyperlink{client_8c_ad1dc38571963869004d74ccd5e657646}{notify\+Server\+That\+Game\+Has\+Started} (int msg\+Id)
\begin{DoxyCompactList}\small\item\em Notify the server that the client has started the game. \end{DoxyCompactList}\item 
void \hyperlink{client_8c_a297c894356d29912f8d2df16aff30c29}{send\+Score} (int msg\+Id, int \hyperlink{structscore}{score})
\begin{DoxyCompactList}\small\item\em Send the score of the player to the server. \end{DoxyCompactList}\item 
void \hyperlink{client_8c_a5f632b8eb71f198600be67f236590bce}{open\+Shm\+And\+Semaphore} (int $\ast$shm\+Id, struct shmid\+\_\+ds $\ast$shm\+Buffer, \hyperlink{structt__scores__list}{t\+\_\+scores\+\_\+list} $\ast$$\ast$shm\+Ptr, sem\+\_\+t $\ast$sem\+Id)
\begin{DoxyCompactList}\small\item\em Open the shm and its semaphore. \end{DoxyCompactList}\item 
void \hyperlink{client_8c_a33b5072cad34944ee1ac35bcf5c83a5a}{retrieve\+Scores} (int msg\+Id, \hyperlink{structt__scores__list}{t\+\_\+scores\+\_\+list} $\ast$scores)
\begin{DoxyCompactList}\small\item\em Retrieve the score of each players from the server. \end{DoxyCompactList}\item 
void \hyperlink{client_8c_a0097956ffe3311ddcede01803cd665cc}{print\+Final\+Rank} (int msg\+Id, \hyperlink{structt__scores__list}{t\+\_\+scores\+\_\+list} scores)
\begin{DoxyCompactList}\small\item\em Print the scores. \end{DoxyCompactList}\item 
int \hyperlink{client_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{client_8c_a6dc6d4c6635b0f45c5fb1ab00af29168}\label{client_8c_a6dc6d4c6635b0f45c5fb1ab00af29168}} 
\index{client.\+c@{client.\+c}!ask\+Server\+To\+Launch\+The\+Game@{ask\+Server\+To\+Launch\+The\+Game}}
\index{ask\+Server\+To\+Launch\+The\+Game@{ask\+Server\+To\+Launch\+The\+Game}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{ask\+Server\+To\+Launch\+The\+Game()}{askServerToLaunchTheGame()}}
{\footnotesize\ttfamily void ask\+Server\+To\+Launch\+The\+Game (\begin{DoxyParamCaption}\item[{int}]{msg\+Id }\end{DoxyParamCaption})}



Wait for the server to launch the game, then start it. 

Await for the server\textquotesingle{}s message to start the game, reply to him and then launch it. Display message during process.


\begin{DoxyParams}{Parameters}
{\em msg\+Id} & Pointer where their is the file descriptor of the message queue to use to send the message. \\
\hline
\end{DoxyParams}


Definition at line 167 of file client.\+c.

\mbox{\Hypertarget{client_8c_a325494eb677c39bc868b6aa8e2ac3335}\label{client_8c_a325494eb677c39bc868b6aa8e2ac3335}} 
\index{client.\+c@{client.\+c}!connect\+To\+Server@{connect\+To\+Server}}
\index{connect\+To\+Server@{connect\+To\+Server}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{connect\+To\+Server()}{connectToServer()}}
{\footnotesize\ttfamily void connect\+To\+Server (\begin{DoxyParamCaption}\item[{int}]{msg\+Id,  }\item[{char $\ast$}]{username }\end{DoxyParamCaption})}



Definition at line 158 of file client.\+c.

\mbox{\Hypertarget{client_8c_aef4ea26c670e5d4a9f6a60c844bdd4f6}\label{client_8c_aef4ea26c670e5d4a9f6a60c844bdd4f6}} 
\index{client.\+c@{client.\+c}!init\+Server\+Connection@{init\+Server\+Connection}}
\index{init\+Server\+Connection@{init\+Server\+Connection}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{init\+Server\+Connection()}{initServerConnection()}}
{\footnotesize\ttfamily void init\+Server\+Connection (\begin{DoxyParamCaption}\item[{int $\ast$}]{msg\+Id,  }\item[{int $\ast$}]{server\+Pid,  }\item[{char $\ast$}]{username }\end{DoxyParamCaption})}



Definition at line 145 of file client.\+c.

\mbox{\Hypertarget{client_8c_a0ddf1224851353fc92bfbff6f499fa97}\label{client_8c_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{client.\+c@{client.\+c}!main@{main}}
\index{main@{main}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Definition at line 124 of file client.\+c.

\mbox{\Hypertarget{client_8c_ad1dc38571963869004d74ccd5e657646}\label{client_8c_ad1dc38571963869004d74ccd5e657646}} 
\index{client.\+c@{client.\+c}!notify\+Server\+That\+Game\+Has\+Started@{notify\+Server\+That\+Game\+Has\+Started}}
\index{notify\+Server\+That\+Game\+Has\+Started@{notify\+Server\+That\+Game\+Has\+Started}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{notify\+Server\+That\+Game\+Has\+Started()}{notifyServerThatGameHasStarted()}}
{\footnotesize\ttfamily void notify\+Server\+That\+Game\+Has\+Started (\begin{DoxyParamCaption}\item[{int}]{msg\+Id }\end{DoxyParamCaption})}



Notify the server that the client has started the game. 

Notify the server that the client has started the game via message queue. Display message during process.


\begin{DoxyParams}{Parameters}
{\em msg\+Id} & Pointer where their is the file descriptor of the message queue to use to send the message. \\
\hline
\end{DoxyParams}


Definition at line 175 of file client.\+c.

\mbox{\Hypertarget{client_8c_a5f632b8eb71f198600be67f236590bce}\label{client_8c_a5f632b8eb71f198600be67f236590bce}} 
\index{client.\+c@{client.\+c}!open\+Shm\+And\+Semaphore@{open\+Shm\+And\+Semaphore}}
\index{open\+Shm\+And\+Semaphore@{open\+Shm\+And\+Semaphore}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{open\+Shm\+And\+Semaphore()}{openShmAndSemaphore()}}
{\footnotesize\ttfamily void open\+Shm\+And\+Semaphore (\begin{DoxyParamCaption}\item[{int $\ast$}]{shm\+Id,  }\item[{struct shmid\+\_\+ds $\ast$}]{shm\+Buffer,  }\item[{\hyperlink{structt__scores__list}{t\+\_\+scores\+\_\+list} $\ast$$\ast$}]{shm\+Ptr,  }\item[{sem\+\_\+t $\ast$}]{sem\+Id }\end{DoxyParamCaption})}



Open the shm and its semaphore. 

Send the score of the player to the server via message queue. Display message during process.


\begin{DoxyParams}{Parameters}
{\em msg\+Id} & Pointer where their is the file descriptor of the message queue to use to send the message. \\
\hline
{\em score} & The score of the player. \\
\hline
{\em shm\+Ptr} & The pointer to the shm. \\
\hline
{\em sem\+Id} & The semaphore\textquotesingle{}s id. \\
\hline
\end{DoxyParams}


Definition at line 198 of file client.\+c.

\mbox{\Hypertarget{client_8c_a0097956ffe3311ddcede01803cd665cc}\label{client_8c_a0097956ffe3311ddcede01803cd665cc}} 
\index{client.\+c@{client.\+c}!print\+Final\+Rank@{print\+Final\+Rank}}
\index{print\+Final\+Rank@{print\+Final\+Rank}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{print\+Final\+Rank()}{printFinalRank()}}
{\footnotesize\ttfamily void print\+Final\+Rank (\begin{DoxyParamCaption}\item[{int}]{msg\+Id,  }\item[{\hyperlink{structt__scores__list}{t\+\_\+scores\+\_\+list}}]{scores }\end{DoxyParamCaption})}



Print the scores. 

Print the scores to the player and say who is the winner.


\begin{DoxyItemize}
\item 
\begin{DoxyParams}{Parameters}
{\em msg\+Id} & Pointer where their is the file descriptor of the message queue to use to send the message. \\
\hline
{\em scores} & The list of scores of each players. \\
\hline
\end{DoxyParams}

\end{DoxyItemize}

Definition at line 234 of file client.\+c.

\mbox{\Hypertarget{client_8c_a33b5072cad34944ee1ac35bcf5c83a5a}\label{client_8c_a33b5072cad34944ee1ac35bcf5c83a5a}} 
\index{client.\+c@{client.\+c}!retrieve\+Scores@{retrieve\+Scores}}
\index{retrieve\+Scores@{retrieve\+Scores}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{retrieve\+Scores()}{retrieveScores()}}
{\footnotesize\ttfamily void retrieve\+Scores (\begin{DoxyParamCaption}\item[{int}]{smh\+Id,  }\item[{\hyperlink{structt__scores__list}{t\+\_\+scores\+\_\+list} $\ast$}]{scores }\end{DoxyParamCaption})}



Retrieve the score of each players from the server. 

Retieve the socre of each player from the server via message queue. Display message during process.


\begin{DoxyParams}{Parameters}
{\em msg\+Id} & Pointer where their is the file descriptor of the message queue to use to send the message. \\
\hline
{\em scores} & The list of scores. \\
\hline
\end{DoxyParams}


Definition at line 211 of file client.\+c.

\mbox{\Hypertarget{client_8c_a297c894356d29912f8d2df16aff30c29}\label{client_8c_a297c894356d29912f8d2df16aff30c29}} 
\index{client.\+c@{client.\+c}!send\+Score@{send\+Score}}
\index{send\+Score@{send\+Score}!client.\+c@{client.\+c}}
\subsubsection{\texorpdfstring{send\+Score()}{sendScore()}}
{\footnotesize\ttfamily void send\+Score (\begin{DoxyParamCaption}\item[{int}]{msg\+Id,  }\item[{int}]{score }\end{DoxyParamCaption})}



Send the score of the player to the server. 

Send the score of the player to the server via message queue. Display message during process.


\begin{DoxyParams}{Parameters}
{\em msg\+Id} & Pointer where their is the file descriptor of the message queue to use to send the message. \\
\hline
{\em score} & The score of the player. \\
\hline
\end{DoxyParams}


Definition at line 184 of file client.\+c.

